!function e(t,n,r){function s(i,a){if(!n[i]){if(!t[i]){var c="function"==typeof require&&require;if(!a&&c)return c(i,!0);if(o)return o(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var f=n[i]={exports:{}};t[i][0].call(f.exports,function(e){var n=t[i][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[i].exports}for(var o="function"==typeof require&&require,i=0;i<r.length;i++)s(r[i]);return s}({1:[function(e,t,n){function r(e){this._messageQueue=e,this._messages=[]}var s=e("./message");r.prototype.message=function(e,t,n){"function"==typeof t&&(n=t,t=void 0),"function"!=typeof n&&(n=null);var r=this,o=new s(e);return o.on("_send",r._messageQueue.enqueue,r._messageQueue),o.once("done",function(){var e=r._messages.indexOf(o);-1!==e&&r._messages.splice(e,1)}),n&&(o.once("error",function(e){n(e)}),o.once("data",function(e){n(null,e)})),("undefined"!=typeof t||n)&&o.send(t||null),r._messages.push(o),o},r.prototype.flushMessageQueue=function(){return this._messageQueue.flushMessageQueue()},r.prototype.messageResponse=function(e){for(var t in this._messages)if(this._messages[t]._handleIncomingMessage(e))return},t.exports=n=r},{"./message":4}],2:[function(e,t,n){var r=e("message-queue-android"),s=e("./bridge");if(window.mcd=window.mcd||{},window.mcd.bridge)throw new Error("McD Bridge already initialized");window.mcd.bridge=new s(new r);var o;try{o=new Event("mcdBridgeReady")}catch(i){o=document.createEvent("Event"),o.initEvent("mcdBridgeReady",!0,!0)}document.dispatchEvent(o)},{"./bridge":1,"message-queue-android":3}],3:[function(e,t,n){function r(){}r.prototype.enqueue=function(e){androidMcdBridge.dispatchMessage(e.name,e.callbackId,JSON.stringify(e.data),!!e.cancel)},r.prototype.flushMessageQueue=function(){return null},t.exports=n=r},{}],4:[function(e,t,n){function r(){return++a+"."+Date.now()}function s(e){this._hasSent=!1,this._isCancelled=!1,this._isDone=!1,this.callbackId=r(),this.name=e}var o=e("eventemitter3"),i=e("inherits"),a=0;Date.now||(Date.now=function(){return(new Date).getTime()});var c={ERROR:"error",DATA:"data",DONE:"done",SEND:"_send"};i(s,o),s.prototype.send=function(e){if(this._hasSent)throw new Error("Data already sent");this._hasSent=!0;var t={callbackId:this.callbackId,name:this.name,data:e||null};this.emit(c.SEND,t)},s.prototype.cancel=function(){if(!this._isCancelled&&!this._isDone){this._isCancelled=!0;var e={callbackId:this.callbackId,name:this.name,cancel:!0};this.emit(c.SEND,e)}},s.prototype._handleIncomingMessage=function(e){if(e.callbackId!==this.callbackId)return!1;if(e.data&&this.emit(c.DATA,e.data),e.error){var t=new Error(e.error.message);t.code=e.error.code,this.emit(c.ERROR,t)}return e.done&&(this._isDone=!0,this.emit(c.DONE)),!0},t.exports=n=s},{eventemitter3:5,inherits:6}],5:[function(e,t,n){"use strict";function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(){}var o=Object.prototype.hasOwnProperty,i="function"!=typeof Object.create?"~":!1;s.prototype._events=void 0,s.prototype.eventNames=function(){var e,t=this._events,n=[];if(!t)return n;for(e in t)o.call(t,e)&&n.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},s.prototype.listeners=function(e,t){var n=i?i+e:e,r=this._events&&this._events[n];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var s=0,o=r.length,a=new Array(o);o>s;s++)a[s]=r[s].fn;return a},s.prototype.emit=function(e,t,n,r,s,o){var a=i?i+e:e;if(!this._events||!this._events[a])return!1;var c,u,f=this._events[a],h=arguments.length;if("function"==typeof f.fn){switch(f.once&&this.removeListener(e,f.fn,void 0,!0),h){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,t),!0;case 3:return f.fn.call(f.context,t,n),!0;case 4:return f.fn.call(f.context,t,n,r),!0;case 5:return f.fn.call(f.context,t,n,r,s),!0;case 6:return f.fn.call(f.context,t,n,r,s,o),!0}for(u=1,c=new Array(h-1);h>u;u++)c[u-1]=arguments[u];f.fn.apply(f.context,c)}else{var l,p=f.length;for(u=0;p>u;u++)switch(f[u].once&&this.removeListener(e,f[u].fn,void 0,!0),h){case 1:f[u].fn.call(f[u].context);break;case 2:f[u].fn.call(f[u].context,t);break;case 3:f[u].fn.call(f[u].context,t,n);break;default:if(!c)for(l=1,c=new Array(h-1);h>l;l++)c[l-1]=arguments[l];f[u].fn.apply(f[u].context,c)}}return!0},s.prototype.on=function(e,t,n){var s=new r(t,n||this),o=i?i+e:e;return this._events||(this._events=i?{}:Object.create(null)),this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],s]:this._events[o].push(s):this._events[o]=s,this},s.prototype.once=function(e,t,n){var s=new r(t,n||this,!0),o=i?i+e:e;return this._events||(this._events=i?{}:Object.create(null)),this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],s]:this._events[o].push(s):this._events[o]=s,this},s.prototype.removeListener=function(e,t,n,r){var s=i?i+e:e;if(!this._events||!this._events[s])return this;var o=this._events[s],a=[];if(t)if(o.fn)(o.fn!==t||r&&!o.once||n&&o.context!==n)&&a.push(o);else for(var c=0,u=o.length;u>c;c++)(o[c].fn!==t||r&&!o[c].once||n&&o[c].context!==n)&&a.push(o[c]);return a.length?this._events[s]=1===a.length?a[0]:a:delete this._events[s],this},s.prototype.removeAllListeners=function(e){return this._events?(e?delete this._events[i?i+e:e]:this._events=i?{}:Object.create(null),this):this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=i,"undefined"!=typeof t&&(t.exports=s)},{}],6:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}]},{},[2]);